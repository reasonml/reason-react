<!DOCTYPE html><html lang="ru"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Потомки · ReasonReact</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;aside class=&quot;warning&quot;&gt;"/><meta name="docsearch:language" content="ru"/><meta property="og:title" content="Потомки · ReasonReact"/><meta property="og:type" content="website"/><meta property="og:url" content="https://reasonml.github.io/reason-react/reason-react/"/><meta property="og:description" content="&lt;aside class=&quot;warning&quot;&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/reason-react/img/reason-react-favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://reasonml.github.io/reason-react/reason-react/blog/atom.xml" title="ReasonReact Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://reasonml.github.io/reason-react/reason-react/blog/feed.xml" title="ReasonReact Blog RSS Feed"/><script type="text/javascript" src="/reason-react/js/pjax-api.min.js"></script><script src="/reason-react/js/scrollSpy.js"></script><link rel="stylesheet" href="/reason-react/css/main.css"/><script src="/reason-react/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/reason-react/ru"><img class="logo" src="/reason-react/img/reason-react-white.svg" alt="ReasonReact"/><h2 class="headerTitleWithLogo">ReasonReact</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/reason-react/docs/ru/installation" target="_self">Документация</a></li><li class=""><a href="/reason-react/docs/ru/playground" target="_self">Попробовать</a></li><li class=""><a href="/reason-react/docs/ru/simple" target="_self">Примеры</a></li><li class=""><a href="/reason-react/docs/ru/community" target="_self">Сообщество</a></li><li class=""><a href="/reason-react/blog/" target="_self">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/reason-react/img/language.svg" alt="Languages icon"/>Русский</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/reason-react/docs/ja/children">日本語</a></li><li><a href="/reason-react/docs/en/children">English</a></li><li><a href="/reason-react/docs/es-ES/children">Español</a></li><li><a href="/reason-react/docs/fr/children">Français</a></li><li><a href="/reason-react/docs/ko/children">한국어</a></li><li><a href="/reason-react/docs/pt-BR/children">Português (Brasil)</a></li><li><a href="/reason-react/docs/zh-CN/children">中文</a></li><li><a href="/reason-react/docs/zh-Hant/children">繁體中文</a></li><li><a href="https://crowdin.com/project/reason-react" target="_blank" rel="noreferrer noopener">Помочь в переводе</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/reasonml/reason-react" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Record API (deprecated)</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Начало работы</h3><ul class=""><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/what-and-why">Что это и для чего нужно</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/installation">Установка</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/intro-example">Введение</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Core</h3><ul class=""><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/components">Components</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/jsx">JSX (Version 3)</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/event">Событие</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/style">Стили</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/router">Router</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/dom">Работа с DOM</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/refs">Refs in React</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/reasonreactcompat">ReasonReactCompat: migrating to 0.7.0 and JSX v3</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">ReactJS Idioms Equivalents</h3><ul class=""><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/invalid-prop-name">Недопустимое Prop имя</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/props-spread">Props Spread</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/component-as-prop">Компоненты и Свойства</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/ternary-shortcut">Ternary Shortcut</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/context-mixins">Context &amp; Mixins</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/custom-class-component-property">Custom Class/Component свойство</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/usestate-event-value">Using Event Values With useState</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Record API (deprecated)</h3><ul class=""><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/jsx-2">JSX (Old, Version 2)</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/creation-props-self">Создание, Props и Self</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/render">Render</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/callback-handlers">Callback обработчики</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/state-actions-reducer">State, Actions &amp; Reducer</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/lifecycles">Жизненный цикл</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/instance-variables">Instance Variables</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/react-ref">React Ref</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/interop">Talk to Existing ReactJS Code</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/clone-element">cloneElement</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/reason-react/docs/ru/children">Потомки</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/subscriptions-helper">Subscriptions Helper</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/router-2">Router</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Вопросы и ответы</h3><ul class=""><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/im-having-a-type-error">I&#x27;m Having a Type Error</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/record-field-send-handle-not-found">Record Field send/handle Not Found</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/send-handle-callbacks-having-incompatible-types">send/handle callbacks having Incompatible Types</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/i-really-need-feature-x-from-reactjs">Мне действительно нужна Особенность X из ReactJS</a></li><li class="navListItem"><a class="navItem" href="/reason-react/docs/ru/element-type-is-invalid">Element Type is Invalid Runtime Error</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/reason-react/ru" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Потомки</h1></header><article><div><span><aside class="warning">
В The Record API временно не добавляются новые возможности в связи с исправлением ошибок и тестированием. For the newest features and better support going forward, please consider migrating to the new <a href="https://reasonml.github.io/reason-react/docs/en/components">function components</a>.
</aside>
<p>ReasonReact children are like ReactJS children, except we provide more bells and whistles that leverages the language itself.</p>
<p>Предположи, что люди используют ваш компонент таким образом: <code>&lt;Animation&gt;&lt;div /&gt;&lt;/Animation&gt;</code>. In the <code>Animation</code> component, you'd want to constrain the <code>children</code> being passed to you (the <code>div</code> here) as a single child. Aka, you'd like to error on this: <code>&lt;Animation&gt;&lt;div /&gt;&lt;div /&gt;&lt;/Animation&gt;</code>.</p>
<p>ReactJS предоставляет такой хелпер:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// внутри Animation.js</span>
<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> React.Children.only(<span class="hljs-keyword">this</span>.children);
}
</code></pre>
<p>Or, maybe you made a Layout component and accepts exactly two children (e.g. <code>&lt;Layout&gt;&lt;MyColumn /&gt;&lt;MyColumn /&gt;&lt;/Layout&gt;</code>):</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Layout.js</span>
<span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (React.Children.count(<span class="hljs-keyword">this</span>.props.children) !== <span class="hljs-number">2</span>) {
    <span class="hljs-comment">// ... error</span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {this.props.children[0]}
      <span class="hljs-tag">&lt;<span class="hljs-name">Separator</span> /&gt;</span>
      {this.props.children[1]}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>Or maybe you mandate a children callback:</p>
<pre><code class="hljs css language-js">&lt;br /&gt;render: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> React.Children.only(<span class="hljs-keyword">this</span>.props.children(<span class="hljs-string">'hello'</span>));
}
</code></pre>
<p>As an author of these JS components, you can only hope that the user provided the right children type to you, and throw an error for them if not. In ReasonReact, <code>children</code> prop is typed and prevents bad usage from the consumer. This seems pretty natural, once you realize that <code>children</code> props <strong>is basically like any other prop</strong>! Yes, you can pass tuple, variant, record and others to children! This also mean we don't have to provide the equivalent <code>React.Children.*</code> utils in ReasonReact at all!</p>
<p>However, due to syntactical and interoperability reasons, we do have some small restrictions on <code>children</code>:</p>
<ul>
<li>DOM elements such as <code>div</code>, <code>span</code> and others mandate the <code>children</code> you pass to be <code>array(reactElement)</code>. For example, <code>&lt;div&gt; [1, 2, 3] &lt;/div&gt;</code> or <code>&lt;span&gt; Some(10) &lt;/span&gt;</code> don't work, since the <code>list</code> and the <code>option</code> are forwarded to the underlying ReactJS <code>div</code>/<code>span</code> and such data types don't make sense in JS.</li>
<li>User-defined elements, by default, also accept an array (of anything). This is due to a rather silly constraint of the JSX syntax, described below.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="syntax-constraint"></a><a href="#syntax-constraint" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Syntax Constraint</h2>
<p><em>Technically</em>, if you've written a component that accepts a tuple as <code>children</code>:</p>
<pre><code class="hljs css language-reason"><span class="hljs-comment">/* MyForm.re */</span>
<span class="hljs-keyword">type</span> tuple2Children = (<span class="hljs-module-identifier">ReasonReact</span>.reactElement, <span class="hljs-module-identifier">ReasonReact</span>.reactElement);

<span class="hljs-keyword">let</span> make = (children: tuple2Children) =&gt; {
  <span class="hljs-operator">...</span>component,
  render: _self =&gt; {
    &lt;div&gt;
      {fst(children)}
      &lt;<span class="hljs-module-identifier">Separator</span> /&gt;
      {snd(children)}
    &lt;/div&gt;
  }
};
</code></pre>
<p>Then you can expect the user to pass you a tuple:</p>
<pre><code class="hljs css language-reason">&lt;<span class="hljs-module-identifier">MyForm</span>&gt; (&lt;div /&gt;, &lt;div /&gt;) &lt;/<span class="hljs-module-identifier">MyForm</span>&gt;
</code></pre>
<p>This, however, will give you a type error:</p>
<pre><code class="hljs">This has type:
  array('a)
But somewhere wanted:
  tuple2Children (defined as (ReasonReact.reactElement, ReasonReact.reactElement))
</code></pre>
<p>It means that <code>MyForm</code> is expecting the tuple, but you're giving <code>array</code> instead! What's happening? Well, look at what JSX is transformed into:</p>
<pre><code class="hljs css language-reason">&lt;<span class="hljs-module-identifier">MyLayout</span>&gt; a b &lt;/<span class="hljs-module-identifier">MyLayout</span>&gt;
&lt;<span class="hljs-module-identifier">MyLayout</span>&gt; a &lt;/<span class="hljs-module-identifier">MyLayout</span>&gt;
</code></pre>
<p>These actually become:</p>
<pre><code class="hljs css language-reason"><span class="hljs-module-identifier">ReasonReact</span>.element(
  <span class="hljs-module-identifier">MyLayout</span>.make(<span class="hljs-literal">[|</span>a, b<span class="hljs-literal">|]</span>)
);
<span class="hljs-module-identifier">ReasonReact</span>.element(
  <span class="hljs-module-identifier">MyLayout</span>.make(<span class="hljs-literal">[|</span>a<span class="hljs-literal">|]</span>)
);
</code></pre>
<p>See how the second <code>MyLayout</code>'s children is also wrapped in an array? We can't special-case <code>&lt;MyLayout&gt; a &lt;/MyLayout&gt;</code> to pass <code>a</code> without the array wrapping (it'd give even more confusing errors). Since children is usually an array, we've decided to always wrap it with an array, no matter how many items we visually see in the JSX. But what if you really want to pass unwrapped data?</p>
<h3><a class="anchor" aria-hidden="true" id="children-spread"></a><a href="#children-spread" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Children Spread</h3>
<p>Just use <code>&lt;MyLayout&gt; ...a &lt;/MyLayout&gt;</code>. This will simply transform into <code>ReasonReact.element(MyLayout.make(a))</code>, aka without the array wrapping.</p>
<h4><a class="anchor" aria-hidden="true" id="tips-tricks"></a><a href="#tips-tricks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips &amp; Tricks</h4>
<p>Here are some use-cases for children spread + Reason built-in data structures:</p>
<ul>
<li><p>A layout component that mandates a tuple of 2 react element and shows them side-by-side:</p>
<pre><code class="hljs css language-reason">&lt;<span class="hljs-module-identifier">MyForm</span>&gt; <span class="hljs-operator">...</span>(&lt;div /&gt;, &lt;div /&gt;) &lt;/<span class="hljs-module-identifier">MyForm</span>&gt;
</code></pre></li>
<li><p>A component that mandates a callback, no need for ReactJS' <code>React.Children.only</code> runtime check:</p>
<pre><code class="hljs css language-reason">&lt;<span class="hljs-module-identifier">Motion</span>&gt; <span class="hljs-operator">...</span>((name) =&gt; &lt;div className=name /&gt;) &lt;/<span class="hljs-module-identifier">Motion</span>&gt;
</code></pre></li>
<li><p>A layout helper that accepts a variant of <code>TwoRows | ThreeRows | FourColumns</code></p>
<pre><code class="hljs css language-reason">&lt;<span class="hljs-module-identifier">Layout</span>&gt; <span class="hljs-operator">...</span>(<span class="hljs-constructor">ThreeRows</span>(&lt;div /&gt;, child2, child3)) &lt;/<span class="hljs-module-identifier">Layout</span>&gt;
</code></pre></li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/reason-react/docs/ru/clone-element"><span class="arrow-prev">← </span><span class="function-name-prevnext">cloneElement</span></a><a class="docs-next button" href="/reason-react/docs/ru/subscriptions-helper"><span>Subscriptions Helper</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#syntax-constraint">Syntax Constraint</a><ul class="toc-headings"><li><a href="#children-spread">Children Spread</a></li></ul></li></ul></nav></div><span><script src="/reason-react/js/redirectBlog.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper, .onPageNav',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '55156da6520de795d3a2c2d23786f08e',
                indexName: 'react-reason',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["lang:ru"]}
              });
            </script></body></html>